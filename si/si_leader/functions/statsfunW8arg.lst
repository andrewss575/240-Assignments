     1                                 %line 1+1 statsfunW8arg.asm
     2                                 
     3                                 
     4                                 
     5                                 
     6                                 
     7                                 
     8                                 [section .data]
     9 00000000 0A0000000000000014-     arr1 dq 10, 20, 30, 40, 50, 60
    10 00000000 000000000000001E00-
    11 00000000 000000000000280000-
    12 00000000 000000000032000000-
    13 00000000 000000003C00000000-
    14 00000000 000000             
    15 00000030 0600000000000000        len1 dq 6
    16 00000038 460000000000000050-     arr2 dq 70, 80, 90, 100
    17 00000038 000000000000005A00-
    18 00000038 000000000000640000-
    19 00000038 0000000000         
    20 00000058 0400000000000000        len2 dq 4
    21 00000060 6E0000000000000078-     arr3 dq 110, 120, 130
    22 00000060 000000000000008200-
    23 00000060 000000000000       
    24 00000078 0300000000000000        len3 dq 3
    25                                 
    26                                 [section .bss]
    27 00000000 <gap>                   avg resq 1
    28 00000008 <gap>                   sum resq 1
    29                                 
    30                                 [section .text]
    31                                 [global _start]
    32                                 _start:
    33                                 
    34 00000000 48C7C103000000          mov rcx, 3
    35                                 
    36                                 
    37                                 
    38 00000007 48C7C005000000          mov rax, 5
    39                                 
    40                                 arrLoop:
    41                                 
    42                                 
    43 0000000E 51                      push rcx
    44                                 
    45                                 
    46                                 
    47                                 
    48 0000000F 48C7C7[00000000]        mov rdi, arr1
    49 00000016 488B3425[00000000]      mov rsi, qword[len1]
    50 0000001E 48C7C2[00000000]        mov rdx, arr2
    51 00000025 488B0C25[00000000]      mov rcx, qword[len2]
    52 0000002D 49C7C0[00000000]        mov r8, arr3
    53 00000034 4C8B0C25[00000000]      mov r9, qword[len3]
    54 0000003C 68[00000000]            push sum
    55 00000041 68[00000000]            push avg
    56                                 
    57 00000046 E812000000              call stats
    58                                 
    59 0000004B 4883C410                add rsp, 16
    60 0000004F 59                      pop rcx
    61                                 
    62                                 
    63                                 
    64 00000050 E2BA                    loop arrLoop
    65                                 
    66 00000052 48C7C03C000000          mov rax, 60
    67 00000059 48C7C700000000          mov rdi, 0
    68 00000060 0F05                    syscall
    69                                 
    70                                 [global stats]
    71                                 
    72                                 stats:
    73                                 
    74                                 
    75                                 
    76 00000062 55                      push rbp
    77 00000063 4889E5                  mov rbp, rsp
    78                                 
    79 00000066 50                      push rax
    80                                 
    81 00000067 48C7C000000000          mov rax, 0
    82                                 
    83 0000006E 49C7C200000000          mov r10, 0
    84 00000075 49C7C300000000          mov r11, 0
    85                                 arr1Loop:
    86 0000007C 4A0304D7                add rax, qword[rdi + r10 * 8]
    87 00000080 49FFC2                  inc r10
    88                                 
    89 00000083 4939F2                  cmp r10, rsi
    90 00000086 75F2                    jne arr1Loop
    91                                 
    92 00000088 49C7C200000000          mov r10, 0
    93                                 arr2Loop:
    94 0000008F 4A0304D2                add rax, qword[rdx + r10 * 8]
    95 00000093 49FFC2                  inc r10
    96                                 
    97 00000096 4939CA                  cmp r10, rcx
    98 00000099 75F2                    jne arr2Loop
    99                                 
   100 0000009B 49C7C200000000          mov r10, 0
   101                                 arr3Loop:
   102 000000A2 4B0304D0                add rax, qword[r8 + r10 * 8]
   103 000000A6 49FFC2                  inc r10
   104                                 
   105 000000A9 4D39CA                  cmp r10, r9
   106 000000AC 75F2                    jne arr3Loop
   107                                 
   108                                 
   109 000000AE 4C8B5D18                mov r11, qword[rbp + 24]
   110 000000B2 498903                  mov qword[r11], rax
   111                                 
   112                                 
   113 000000B5 48C7C300000000          mov rbx, 0
   114 000000BC 4801F3                  add rbx, rsi
   115 000000BF 4801CB                  add rbx, rcx
   116 000000C2 4C01CB                  add rbx, r9
   117                                 
   118 000000C5 48C7C200000000          mov rdx, 0
   119 000000CC 48F7F3                  div rbx
   120                                 
   121 000000CF 4C8B5D10                mov r11, qword[rbp + 16]
   122 000000D3 498903                  mov qword[r11], rax
   123                                 
   124 000000D6 58                      pop rax
   125 000000D7 5D                      pop rbp
   126 000000D8 C3                      ret
   127                                 
   128                                 
   129                                 
   130                                 
   131                                 
   132                                 
   133                                 
   134                                 
   135                                 
   136                                 
   137                                 
   138                                 
   139                                 
   140                                 
   141                                 
   142                                 
   143                                 
   144                                 
   145                                 
   146                                 
   147                                 
   148                                 
   149                                 
   150                                 
   151                                 
   152                                 
   153                                 
   154                                 
   155                                 
