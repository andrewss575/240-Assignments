     1                                 %line 1+1 avgfunc.asm
     2                                 [section .data]
     3 00000000 0A0000000000000014-     arr dq 10, 20, 30, 40, 50, 60
     4 00000000 000000000000001E00-
     5 00000000 000000000000280000-
     6 00000000 000000000032000000-
     7 00000000 000000003C00000000-
     8 00000000 000000             
     9 00000030 0600000000000000        len dq 6
    10                                 
    11                                 [section .bss]
    12 00000000 <gap>                   avg resq 1
    13 00000008 <gap>                   sum resq 1
    14                                 
    15                                 [section .text]
    16                                 [global _start]
    17                                 _start:
    18 00000000 48C7C7[00000000]        mov rdi, arr
    19 00000007 488B3425[00000000]      mov rsi, qword[len]
    20 0000000F 48C7C2[00000000]        mov rdx, sum
    21 00000016 48C7C1[00000000]        mov rcx, avg
    22 0000001D E80B000000              call stats
    23                                 
    24 00000022 48C7C03C000000          mov rax, 60
    25 00000029 48C7C700000000          mov rdi, 0
    26 00000030 0F05                    syscall
    27                                 
    28                                 [global stats]
    29                                 
    30                                 stats:
    31                                 
    32 00000032 49C7C200000000          mov r10, 0
    33                                 sumLoop:
    34 00000039 4A0304D7                add rax, qword[rdi + r10 * 8]
    35 0000003D 49FFC2                  inc r10
    36                                 
    37 00000040 4939F2                  cmp r10, rsi
    38 00000043 75F2                    jne sumLoop
    39                                 
    40 00000045 488902                  mov qword[rdx], rax
    41                                 
    42 00000048 48C7C200000000          mov rdx, 0
    43 0000004F 48F7F6                  div rsi
    44 00000052 488901                  mov qword[rcx], rax
    45                                 
    46 00000055 C3                      ret
    47                                 
    48                                 
    49                                 
    50                                 
    51                                 
    52                                 
    53                                 
    54                                 
    55                                 
    56                                 
    57                                 
    58                                 
    59                                 
    60                                 
    61                                 
    62                                 
    63                                 
    64                                 
    65                                 
    66                                 
    67                                 
    68                                 
    69                                 
    70                                 
    71                                 
    72                                 
    73                                 
    74                                 
    75                                 
